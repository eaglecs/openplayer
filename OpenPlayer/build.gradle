apply plugin: 'android-library'
apply plugin: 'maven-publish'
apply plugin: 'kotlin-android'

group = 'com.audionowdigital'
version = '1.0'
project.archivesBaseName = 'open-player-android'

android {
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_17
        targetCompatibility = JavaVersion.VERSION_17
    }
    kotlinOptions {
        jvmTarget = '17'
    }
    namespace = "com.audionowdigital.android.openplayerdemo"
    compileSdkVersion 33
    buildToolsVersion '33.0.1'
    defaultConfig {
        minSdkVersion 15
        targetSdkVersion 33
    }

    externalNativeBuild {
        cmake {
            path "src/CMakeLists.txt"
        }
    }

    sourceSets {
        main {
            manifest.srcFile 'AndroidManifest.xml'
            java.srcDirs = ['src']
            res.srcDirs = ['res']
            jni.srcDirs = []
            jniLibs.srcDirs = ['libs']
        }
    }

    packagingOptions {
        pickFirst '**/*.so'
    }
}
dependencies {
    implementation "com.squareup.okhttp3:okhttp:4.8.1"
}

//sourceSets.main.jni.srcDirs = []

//uploadArchives {
//  repositories {
//    mavenDeployer {
//      repository url: 'file://' + new File(System.getProperty('user.home'), '.m2/repository').absolutePath
//    }
//  }
//}
//task install(dependsOn: uploadArchives)
